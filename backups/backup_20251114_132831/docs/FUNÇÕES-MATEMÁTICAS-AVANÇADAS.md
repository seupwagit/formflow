# üßÆ FUN√á√ïES MATEM√ÅTICAS AVAN√áADAS - CAMPOS CALCULADOS

## ‚úÖ IMPLEMENTA√á√ÉO COMPLETA

### üéØ **NOVAS FUNCIONALIDADES ADICIONADAS**

#### **1. Motor de C√°lculo Expandido**
- ‚úÖ **25+ Fun√ß√µes Matem√°ticas** como no Excel
- ‚úÖ **Avalia√ß√£o Segura** de express√µes complexas
- ‚úÖ **Substitui√ß√£o Inteligente** de fun√ß√µes
- ‚úÖ **Valida√ß√£o Avan√ßada** de sintaxe

#### **2. Interface Organizada**
- ‚úÖ **Paleta de Fun√ß√µes** com 6 categorias
- ‚úÖ **Exemplos Categorizados** (B√°sicos, Avan√ßados, Trigonometria, Estat√≠sticas)
- ‚úÖ **Interface Compacta** sem poluir a tela
- ‚úÖ **Inser√ß√£o Inteligente** com cursor posicionado

## üìö **FUN√á√ïES DISPON√çVEIS**

### üßÆ **B√ÅSICAS**
| Fun√ß√£o | Sintaxe | Descri√ß√£o | Exemplo |
|--------|---------|-----------|---------|
| `ABS` | `ABS(n√∫mero)` | Valor absoluto | `ABS(-5) = 5` |
| `SQRT` | `SQRT(n√∫mero)` | Raiz quadrada | `SQRT(16) = 4` |
| `POW` | `POW(base, exp)` | Potencia√ß√£o | `POW(2, 3) = 8` |
| `EXP` | `EXP(n√∫mero)` | e elevado ao n√∫mero | `EXP(1) = 2.718` |

### üìê **TRIGONOM√âTRICAS**
| Fun√ß√£o | Sintaxe | Descri√ß√£o | Exemplo |
|--------|---------|-----------|---------|
| `SIN` | `SIN(radianos)` | Seno | `SIN(PI/2) = 1` |
| `COS` | `COS(radianos)` | Cosseno | `COS(0) = 1` |
| `TAN` | `TAN(radianos)` | Tangente | `TAN(PI/4) = 1` |
| `ASIN` | `ASIN(n√∫mero)` | Arco seno | `ASIN(1) = PI/2` |
| `ACOS` | `ACOS(n√∫mero)` | Arco cosseno | `ACOS(1) = 0` |
| `ATAN` | `ATAN(n√∫mero)` | Arco tangente | `ATAN(1) = PI/4` |
| `ATAN2` | `ATAN2(y, x)` | Arco tangente de y/x | `ATAN2(1, 1) = PI/4` |
| `RADIANS` | `RADIANS(graus)` | Graus ‚Üí Radianos | `RADIANS(180) = PI` |
| `DEGREES` | `DEGREES(rad)` | Radianos ‚Üí Graus | `DEGREES(PI) = 180` |

### üìä **LOGAR√çTMICAS**
| Fun√ß√£o | Sintaxe | Descri√ß√£o | Exemplo |
|--------|---------|-----------|---------|
| `LOG` | `LOG(n√∫mero)` | Logaritmo natural | `LOG(E) = 1` |
| `LOG10` | `LOG10(n√∫mero)` | Logaritmo base 10 | `LOG10(100) = 2` |
| `LN` | `LN(n√∫mero)` | Logaritmo natural | `LN(E) = 1` |

### üî¢ **ARREDONDAMENTO**
| Fun√ß√£o | Sintaxe | Descri√ß√£o | Exemplo |
|--------|---------|-----------|---------|
| `ROUND` | `ROUND(n√∫mero)` | Arredonda | `ROUND(3.7) = 4` |
| `CEIL` | `CEIL(n√∫mero)` | Arredonda para cima | `CEIL(3.1) = 4` |
| `FLOOR` | `FLOOR(n√∫mero)` | Arredonda para baixo | `FLOOR(3.9) = 3` |
| `TRUNC` | `TRUNC(n√∫mero)` | Remove decimais | `TRUNC(3.9) = 3` |

### üìà **ESTAT√çSTICAS**
| Fun√ß√£o | Sintaxe | Descri√ß√£o | Exemplo |
|--------|---------|-----------|---------|
| `MIN` | `MIN(a, b, c...)` | Valor m√≠nimo | `MIN(1, 5, 3) = 1` |
| `MAX` | `MAX(a, b, c...)` | Valor m√°ximo | `MAX(1, 5, 3) = 5` |
| `MOD` | `MOD(div, divisor)` | Resto da divis√£o | `MOD(10, 3) = 1` |
| `SIGN` | `SIGN(n√∫mero)` | Sinal do n√∫mero | `SIGN(-5) = -1` |
| `RANDOM` | `RANDOM()` | N√∫mero aleat√≥rio 0-1 | `RANDOM()` |

### ü§î **L√ìGICAS**
| Fun√ß√£o | Sintaxe | Descri√ß√£o | Exemplo |
|--------|---------|-----------|---------|
| `IF` | `IF(cond, true, false)` | Condicional | `IF({idade} >= 18, 100, 50)` |

### üî¢ **CONSTANTES**
| Constante | Valor | Descri√ß√£o |
|-----------|-------|-----------|
| `PI` | 3.14159... | Pi (œÄ) |
| `E` | 2.71828... | N√∫mero de Euler |

## üé® **INTERFACE MELHORADA**

### **Paleta de Fun√ß√µes**
- **6 Categorias Organizadas**: B√°sicas, Trigonometria, Logar√≠tmicas, Arredondamento, Estat√≠sticas, L√≥gicas
- **Bot√£o Compacto**: "Mostrar (25 fun√ß√µes)" - n√£o polui a interface
- **Inser√ß√£o Inteligente**: Clique na fun√ß√£o e ela √© inserida com cursor posicionado
- **Tooltips Informativos**: Descri√ß√£o de cada fun√ß√£o ao passar o mouse

### **Exemplos Categorizados**
- **4 Categorias**: B√°sicos, Avan√ßados, Trigonometria, Estat√≠sticas
- **25+ Exemplos Pr√°ticos**: Desde soma simples at√© f√≥rmulas complexas
- **Bot√£o "Usar"**: Aplica o exemplo diretamente na f√≥rmula

## üöÄ **EXEMPLOS PR√ÅTICOS**

### **B√°sicos**
```
{campo1} + {campo2}                    // Soma simples
{total} - {desconto}                   // Subtra√ß√£o
{quantidade} * {preco_unitario}        // Multiplica√ß√£o
{total} / {parcelas}                   // Divis√£o
({nota1} + {nota2} + {nota3}) / 3      // M√©dia
```

### **Avan√ßados**
```
ABS({diferenca})                       // Valor absoluto
SQRT({area})                          // Raiz quadrada
POW({base}, {expoente})               // Potencia√ß√£o
ROUND({valor}, 2)                     // Arredondamento
MAX({valor1}, {valor2}, {valor3})     // M√°ximo
MIN({valor1}, {valor2}, {valor3})     // M√≠nimo
MOD({dividendo}, {divisor})           // Resto da divis√£o
IF({idade} >= 18, {adulto}, {menor})  // Condicional
```

### **Trigonometria**
```
SIN(RADIANS({angulo_graus}))          // Seno em graus
COS(RADIANS({angulo_graus}))          // Cosseno em graus
TAN(RADIANS({angulo_graus}))          // Tangente em graus
SQRT(POW({cateto1}, 2) + POW({cateto2}, 2))  // Hipotenusa
```

### **Estat√≠sticas e Aplica√ß√µes**
```
PI * POW({raio}, 2)                   // √Årea do c√≠rculo
{capital} * POW(1 + {taxa}/100, {tempo})  // Juros compostos
{peso} / POW({altura}, 2)             // IMC
ABS(({real} - {esperado}) / {esperado}) * 100  // Desvio %
```

## üîß **COMO USAR**

### **1. Operadores B√°sicos**
- Clique nos bot√µes `+`, `-`, `*`, `/`, `(`, `)`
- S√£o inseridos com espa√ßos autom√°ticos

### **2. Fun√ß√µes Matem√°ticas**
1. Clique em **"Mostrar (25 fun√ß√µes)"**
2. Escolha uma categoria (B√°sicas, Trigonometria, etc.)
3. Clique na fun√ß√£o desejada
4. A fun√ß√£o √© inserida com `()` e cursor posicionado dentro

### **3. Campos de Refer√™ncia**
- Clique em qualquer campo da lista "Campos Dispon√≠veis"
- √â inserido no formato `{nome_campo}`

### **4. Exemplos Prontos**
1. Clique em **"Ver Exemplos"**
2. Escolha uma categoria
3. Clique em **"Usar"** no exemplo desejado
4. A f√≥rmula completa √© aplicada

### **5. Valida√ß√£o em Tempo Real**
- ‚úÖ **Verde**: F√≥rmula v√°lida
- ‚ùå **Vermelho**: Erro com descri√ß√£o
- üëÅÔ∏è **Preview**: Resultado calculado em tempo real

## üéØ **CASOS DE USO AVAN√áADOS**

### **Engenharia**
```
// √Årea de um c√≠rculo
PI * POW({raio}, 2)

// Teorema de Pit√°goras
SQRT(POW({cateto_a}, 2) + POW({cateto_b}, 2))

// Convers√£o de √¢ngulos
DEGREES(ATAN({altura} / {base}))
```

### **Financeiro**
```
// Juros compostos
{capital} * POW(1 + {taxa_anual}/100, {anos})

// Parcela de financiamento
{valor} * ({taxa}/100) / (1 - POW(1 + {taxa}/100, -{parcelas}))

// ROI percentual
(({receita} - {custo}) / {custo}) * 100
```

### **Estat√≠sticas**
```
// Desvio padr√£o simples
SQRT(POW({valor} - {media}, 2))

// Coeficiente de varia√ß√£o
({desvio_padrao} / {media}) * 100

// Z-score
({valor} - {media}) / {desvio_padrao}
```

### **Sa√∫de**
```
// IMC
{peso} / POW({altura}, 2)

// Taxa metab√≥lica basal (homens)
88.362 + (13.397 * {peso}) + (4.799 * {altura_cm}) - (5.677 * {idade})

// Frequ√™ncia card√≠aca m√°xima
220 - {idade}
```

## üõ°Ô∏è **SEGURAN√áA E VALIDA√á√ÉO**

### **Valida√ß√£o Robusta**
- ‚úÖ Sintaxe de fun√ß√µes verificada
- ‚úÖ Par√™nteses balanceados
- ‚úÖ Campos existentes validados
- ‚úÖ Depend√™ncias circulares detectadas
- ‚úÖ Avalia√ß√£o segura (sem eval direto)

### **Tratamento de Erros**
- ‚úÖ Valores inv√°lidos retornam 0
- ‚úÖ Divis√£o por zero tratada
- ‚úÖ Fun√ß√µes com par√¢metros inv√°lidos
- ‚úÖ Logs detalhados para debug

## üìä **PERFORMANCE**

### **Otimiza√ß√µes**
- ‚úÖ Cache de c√°lculos
- ‚úÖ Rec√°lculo inteligente
- ‚úÖ Ordem otimizada de depend√™ncias
- ‚úÖ Substitui√ß√£o eficiente de fun√ß√µes

### **Escalabilidade**
- ‚úÖ Suporta f√≥rmulas complexas
- ‚úÖ M√∫ltiplas depend√™ncias
- ‚úÖ Aninhamento de fun√ß√µes
- ‚úÖ Express√µes longas

## üéâ **RESULTADO FINAL**

### ‚úÖ **SISTEMA COMPLETO COMO EXCEL**
- **25+ Fun√ß√µes Matem√°ticas** implementadas
- **Interface Organizada** sem polui√ß√£o visual
- **Categoriza√ß√£o Inteligente** de fun√ß√µes e exemplos
- **Inser√ß√£o Facilitada** com posicionamento de cursor
- **Valida√ß√£o Robusta** em tempo real
- **Exemplos Pr√°ticos** para todos os n√≠veis
- **Performance Otimizada** para f√≥rmulas complexas

**O sistema agora rivaliza com planilhas profissionais!** üöÄ

---

**Status**: ‚úÖ **IMPLEMENTADO**  
**Fun√ß√µes**: 25+ fun√ß√µes matem√°ticas  
**Categorias**: 6 categorias organizadas  
**Exemplos**: 25+ exemplos pr√°ticos  
**Interface**: Compacta e intuitiva